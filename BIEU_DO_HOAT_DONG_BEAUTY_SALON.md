# 3.4. BIỂU ĐỒ HOẠT ĐỘNG (ACTIVITY DIAGRAM) CỦA HỆ THỐNG BEAUTY SALON

## 3.4.1. Biểu đồ hoạt động của chức năng Đặt lịch hẹn (Khách hàng)

```
+---------------------------------------------+
|                  Bắt đầu                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Đăng nhập vào hệ thống            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|            Chọn dịch vụ muốn đặt            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Xem thông tin dịch vụ             |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|         Chọn ngày, tháng, năm đặt lịch      |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hệ thống kiểm tra khung giờ trống      |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               /  Có khung \    Không
              /   giờ trống? \------------+
              \             /             |
               \           /              |
                \         /               |
                 \       /                |
                     |                    |
                     | Có                 |
                     v                    v
+---------------------+       +-------------------------+
| Chọn khung giờ phù hợp|     | Thông báo không có khung|
+---------------------+       |    giờ trống và đề     |
                     |        |    xuất chọn ngày khác  |
                     v        +-------------------------+
+---------------------------------------------+         |
|     Hiển thị thông tin đặt lịch (dịch vụ,   |         |
|           ngày giờ, giá tiền)               |<--------+
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               /  Xác nhận \    Không
              /   đặt lịch? \------------+
              \             /             |
               \           /              |
                \         /               |
                 \       /                |
                     |                    |
                     | Có                 |
                     v                    v
+---------------------+       +-------------------------+
|  Lưu thông tin đặt  |       |    Hủy đặt lịch và     |
|        lịch         |       |    quay lại trang chủ   |
+---------------------+       +-------------------------+
                     |                    |
                     v                    |
+---------------------------------------------+
|     Gửi email xác nhận đặt lịch cho khách   |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|     Hiển thị thông báo đặt lịch thành công  |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|                   Kết thúc                  |
+---------------------------------------------+
```

## 3.4.2. Biểu đồ hoạt động của chức năng Quản lý lịch hẹn (Lễ tân)

```
+---------------------------------------------+
|                  Bắt đầu                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Đăng nhập vào hệ thống            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|         Truy cập trang quản lý lịch hẹn     |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị danh sách lịch hẹn với các    |
|        tùy chọn lọc (ngày, trạng thái)      |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               /  Lựa chọn \
              /   thao tác? \
              \             /
               \           /
                \         /
                 \       /
        +---------+---------+---------+---------+
        |         |         |         |         |
        v         v         v         v         v
+-------------+ +-------+ +-------+ +-------+ +-------+
| Xem chi tiết| |  Tạo  | |Chỉnh sửa| |Xác nhận| | Hủy  |
| lịch hẹn    | |lịch hẹn| |lịch hẹn | |lịch hẹn| |lịch hẹn|
+-------------+ +-------+ +-------+ +-------+ +-------+
        |         |         |         |         |
        v         v         v         v         v
+-------------+ +-------+ +-------+ +-------+ +-------+
| Hiển thị    | |Nhập   | |Cập nhật| |Cập nhật| |Cập nhật|
| thông tin   | |thông  | |thông tin| |trạng   | |trạng   |
| chi tiết    | |tin    | |lịch hẹn | |thái    | |thái    |
+-------------+ |lịch hẹn| +-------+ |thành   | |thành   |
                +-------+     |      |"Đã xác | |"Đã hủy"|
                    |         |      |nhận"   | +-------+
                    v         v      +-------+     |
                +-------------------+    |         |
                | Kiểm tra thông tin|    |         |
                +-------------------+    |         |
                          |              |         |
                          v              |         |
                      /       \          |         |
                     /         \         |         |
                    /  Thông tin \  Không|         |
                   /   hợp lệ?   \-------+         |
                   \             /                 |
                    \           /                  |
                     \         /                   |
                      \       /                    |
                          |                        |
                          | Có                     |
                          v                        |
                +-------------------+              |
                | Lưu thông tin vào |              |
                |   cơ sở dữ liệu   |<-------------+
                +-------------------+
                          |
                          v
                +-------------------+
                | Gửi thông báo cho |
                | khách hàng và NVKT|
                +-------------------+
                          |
                          v
+---------------------------------------------+
|                   Kết thúc                  |
+---------------------------------------------+
```

## 3.4.3. Biểu đồ hoạt động của chức năng Cập nhật trạng thái dịch vụ (Nhân viên kỹ thuật)

```
+---------------------------------------------+
|                  Bắt đầu                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Đăng nhập vào hệ thống            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|         Truy cập trang lịch làm việc        |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị danh sách lịch hẹn được       |
|                phân công                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Chọn lịch hẹn cần cập nhật trạng thái  |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị thông tin chi tiết lịch hẹn   |
|      và các tùy chọn trạng thái             |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Chọn trạng thái mới (đang thực hiện,   |
|               đã hoàn thành)                |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Xác nhận cập nhật trạng thái      |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Cập nhật trạng thái trong cơ sở dữ liệu|
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Gửi thông báo cho khách hàng và lễ tân |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               / Trạng thái \    Không
              /  "Đã hoàn    \------------+
              \   thành"?    /             |
               \           /              |
                \         /               |
                 \       /                |
                     |                    |
                     | Có                 |
                     v                    v
+---------------------+       +-------------------------+
| Hiển thị form nhập  |       |    Quay lại trang      |
|  ghi chú chuyên môn |       |    lịch làm việc       |
+---------------------+       +-------------------------+
                     |                    |
                     v                    |
+---------------------------------------------+
|      Nhập ghi chú chuyên môn (tùy chọn)     |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Lưu ghi chú vào cơ sở dữ liệu          |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|                   Kết thúc                  |
+---------------------------------------------+
```

## 3.4.4. Biểu đồ hoạt động của chức năng Quản lý khuyến mãi (Admin)

```
+---------------------------------------------+
|                  Bắt đầu                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Đăng nhập vào hệ thống            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|         Truy cập trang quản lý khuyến mãi   |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị danh sách khuyến mãi với các  |
|      tùy chọn lọc (trạng thái, thời gian)   |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               /  Lựa chọn \
              /   thao tác? \
              \             /
               \           /
                \         /
                 \       /
        +---------+---------+---------+---------+
        |         |         |         |         |
        v         v         v         v         v
+-------------+ +-------+ +-------+ +-------+ +-------+
| Xem chi tiết| |  Tạo  | |Chỉnh sửa| | Xóa   | |Kích hoạt/|
| khuyến mãi  | |khuyến | |khuyến   | |khuyến | |Hủy kích  |
|             | |mãi mới| |mãi      | |mãi    | |hoạt      |
+-------------+ +-------+ +-------+ +-------+ +-------+
        |         |         |         |         |
        v         v         v         v         v
+-------------+ +-------+ +-------+ +-------+ +-------+
| Hiển thị    | |Nhập   | |Cập nhật| |Xác nhận| |Cập nhật|
| thông tin   | |thông  | |thông tin| |xóa    | |trạng   |
| chi tiết    | |tin    | |khuyến   | |khuyến | |thái    |
+-------------+ |khuyến | |mãi      | |mãi    | |khuyến  |
                |mãi    | +-------+ +-------+ |mãi     |
                +-------+     |         |     +-------+
                    |         |         |         |
                    v         v         |         |
                +-------------------+   |         |
                | Kiểm tra thông tin|   |         |
                +-------------------+   |         |
                          |             |         |
                          v             |         |
                      /       \         |         |
                     /         \        |         |
                    /  Thông tin \  Không         |
                   /   hợp lệ?   \------+         |
                   \             /       |        |
                    \           /        |        |
                     \         /         |        |
                      \       /          |        |
                          |              |        |
                          | Có           |        |
                          v              v        |
                +-------------------+ +-------+   |
                | Lưu thông tin vào | |Hiển thị|  |
                |   cơ sở dữ liệu   | |thông báo|  |
                +-------------------+ |lỗi     |  |
                          |           +-------+   |
                          |               |       |
                          v               |       |
                +-------------------+     |       |
                | Hiển thị thông báo|     |       |
                | thành công        |<----+-------+
                +-------------------+
                          |
                          v
+---------------------------------------------+
|                   Kết thúc                  |
+---------------------------------------------+
```

## 3.4.5. Biểu đồ hoạt động của chức năng Đánh giá dịch vụ (Khách hàng)

```
+---------------------------------------------+
|                  Bắt đầu                    |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|           Đăng nhập vào hệ thống            |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|         Truy cập trang lịch sử lịch hẹn     |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị danh sách lịch hẹn đã hoàn    |
|                  thành                      |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               / Có lịch hẹn \    Không
              /  đã hoàn      \------------+
              \   thành?      /             |
               \           /              |
                \         /               |
                 \       /                |
                     |                    |
                     | Có                 |
                     v                    v
+---------------------+       +-------------------------+
| Chọn dịch vụ muốn   |       |    Hiển thị thông báo  |
|      đánh giá       |       |    chưa có lịch hẹn    |
+---------------------+       |    nào đã hoàn thành   |
                     |        +-------------------------+
                     v                    |
+---------------------------------------------+
|      Hiển thị form đánh giá với các tùy     |
|      chọn số sao và ô nhập nhận xét         |
+---------------------------------------------+
                     |
                     v
                 /       \
                /         \
               / Đã đánh giá \    Có
              /  dịch vụ này  \------------+
              \   trước đó?   /             |
               \           /              |
                \         /               |
                 \       /                |
                     |                    |
                     | Không              |
                     v                    v
+---------------------+       +-------------------------+
| Nhập đánh giá mới   |       |    Hiển thị đánh giá   |
|                     |       |    đã gửi trước đó     |
+---------------------+       +-------------------------+
                     |                    |
                     |                    v
                     |        +-------------------------+
                     |        |    Cập nhật đánh giá   |
                     |        +-------------------------+
                     |                    |
                     v                    |
+---------------------------------------------+
|      Gửi đánh giá                           |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Lưu đánh giá vào cơ sở dữ liệu         |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|      Hiển thị thông báo đánh giá thành công |
+---------------------------------------------+
                     |
                     v
+---------------------------------------------+
|                   Kết thúc                  |
+---------------------------------------------+
```
